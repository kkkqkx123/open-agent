# 状态管理配置

state:
  # 默认存储类型
  default_storage: "sqlite"
  
  # 序列化配置
  serialization:
    format: "json"  # json, pickle
    compression: true
  
  # 历史记录配置
  history:
    max_entries: 1000
    enable_compression: true
    cleanup_interval: 3600  # 秒
  
  # 快照配置
  snapshots:
    max_per_agent: 50
    enable_compression: true
    auto_cleanup: true
    auto_snapshot_interval: 3600  # 秒
  
  # 性能配置
  performance:
    cache_size: 1000
    batch_size: 100
    enable_async: false
  
  # 存储配置
  storage:
    # SQLite配置
    sqlite:
      db_path: "data/state_storage.db"
      enable_wal: true
      cache_size: 2000
      temp_store: "memory"
    
    # 内存存储配置
    memory:
      max_entries: 10000
      enable_persistence: false
    
    # 文件存储配置
    file:
      base_path: "data/state_files"
      enable_compression: true

# 迁移配置
migration:
  # 是否启用自动迁移
  auto_migrate: false
  
  # 迁移源配置
  source:
    type: "legacy"  # legacy, backup
    path: "data/legacy_state"
  
  # 迁移目标配置
  target:
    storage_type: "sqlite"
    config:
      db_path: "data/migrated_state.db"
  
  # 迁移选项
  options:
    preserve_ids: true
    validate_after_migration: true
    create_backup: true

# 监控配置
monitoring:
  # 是否启用监控
  enabled: true
  
  # 统计信息收集间隔
  stats_interval: 300  # 秒
  
  # 健康检查间隔
  health_check_interval: 60  # 秒
  
  # 性能指标
  metrics:
    - "storage_size"
    - "operation_count"
    - "response_time"
    - "error_rate"

# 日志配置
logging:
  # 日志级别
  level: "INFO"
  
  # 日志格式
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  # 是否记录操作详情
  log_operations: false
  
  # 是否记录性能指标
  log_performance: true