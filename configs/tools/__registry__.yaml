# 工具注册表配置
# 定义工具类型注册信息和配置文件引用

metadata:
  name: "tools_registry"
  version: "1.0.0"
  description: "工具类型注册表"
  author: "system"

# 工具类型注册
tool_types:
  # 原生工具类型
  native:
    class_path: "src.core.tools.types.native_tool:NativeTool"
    description: "原生工具类型 - 项目内实现"
    enabled: true
    config_directory: "native"
    config_files:
      - "calculator.yaml"
      - "hash_convert.yaml"
      - "sequentialthinking.yaml"
      - "time_tool.yaml"
    
  # REST工具类型
  rest:
    class_path: "src.core.tools.types.rest_tool:RestTool"
    description: "REST工具类型 - 外部API集成"
    enabled: true
    config_directory: "rest"
    config_files:
      - "fetch.yaml"
      - "weather.yaml"
      - "duckduckgo_search.yaml"
    
  # MCP工具类型
  mcp:
    class_path: "src.core.tools.types.mcp_tool:MCPTool"
    description: "MCP工具类型 - 标准协议"
    enabled: true
    config_directory: "mcp"
    config_files:
      - "database.yaml"

# 工具集注册
tool_sets:
  basic_tools:
    description: "基础工具集"
    enabled: true
    tools:
      - "calculator"
      - "fetch"
      - "weather"
      - "time_tool"
    
  advanced_tools:
    description: "高级工具集"
    enabled: true
    tools:
      - "hash_convert"
      - "sequentialthinking"
      - "duckduckgo_search"
      - "database"

# 配置验证规则
validation_rules:
  - field: "tool_types.*.class_path"
    rule_type: "required"
    message: "工具类型必须指定类路径"
  - field: "tool_types.*.enabled"
    rule_type: "boolean"
    message: "启用状态必须是布尔值"
  - field: "tool_types.*.config_directory"
    rule_type: "required"
    message: "工具类型必须指定配置目录"
  - field: "tool_sets.*.tools"
    rule_type: "list"
    message: "工具集必须包含工具列表"

# 自动发现配置
auto_discovery:
  enabled: true
  scan_directories:
    - "configs/tools/native"
    - "configs/tools/rest"
    - "configs/tools/mcp"
  file_patterns:
    - "*.yaml"
    - "*.yml"
  exclude_patterns:
    - "__*"
    - "_*"
    - "test_*"

# 扁平化架构配置
flattened_architecture:
  enabled: true
  core_module: "src.core.tools"
  services_module: "src.services.tools"
  config_structure:
    native: "configs/tools/native"
    rest: "configs/tools/rest"
    mcp: "configs/tools/mcp"