# Siliconflow Provider通用配置模板
provider_type: siliconflow
base_url: "https://api.siliconflow.cn/v1"
api_key: "${SILICONFLOW_API_KEY}"
headers:
  User-Agent: "ModularAgent/1.0"

# 工具调用配置
function_calling_supported: true
function_calling_mode: "auto"

# 缓存配置
supports_caching: false  # SiliconFlow不直接支持API级缓存
cache_config:
  enabled: false
  ttl_seconds: 3600
  max_size: 1000

# 通用参数模板
default_parameters:
  temperature: 0.7
  max_tokens: 32000  # 默认32K上下文，各模型可覆盖
  max_completion_tokens: 8192
  top_p: 1.0
  frequency_penalty: 0.0
  presence_penalty: 0.0
  stop: null
  top_logprobs: null
  tool_choice: null
  tools: null
  response_format: null
  stream: false
  stream_options: null
  service_tier: "auto"
  safety_identifier: null
  store: false
  reasoning: null
  verbosity: "medium"
  web_search_options: null
  seed: null
  user: null
  timeout: 60  # 增加默认超时时间
  max_retries: 3

# 重试配置
retry_config:
  base_delay: 2.0
  max_delay: 120.0
  jitter: true
  exponential_base: 2.0
  retry_on_status_codes:
    - 429  # 频率限制
    - 500  # 服务器内部错误
    - 502  # 网关错误
    - 503  # 服务不可用
    - 504  # 网关超时
  retry_on_errors:
    - "timeout"
    - "rate_limit"
    - "service_unavailable"

# 超时配置
timeout_config:
  request_timeout: 60
  connect_timeout: 15
  read_timeout: 60
  write_timeout: 30

# 降级配置
fallback_config:
  enabled: true
  max_attempts: 3

# 元数据
metadata:
  provider: siliconflow
  version: "1.0"
  description: "Siliconflow Provider通用配置"
  supported_features:
    - function_calling
    - streaming
    - json_mode
  unsupported_features:
    - api_caching