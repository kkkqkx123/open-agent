# Anthropic Provider通用配置模板
provider_type: anthropic
base_url: "https://api.anthropic.com"
headers:
  User-Agent: "ModularAgent/1.0"

# 缓存配置
supports_caching: true  # Anthropic支持缓存控制
cache_config:
  enabled: true
  ttl_seconds: 3600
  max_size: 1000
  cache_control_type: "ephemeral"  # ephemeral 或 persistent

# 通用参数模板
default_parameters:
  temperature: 0.7
  max_tokens: 2000
  top_p: 1.0
  top_k: null
  stop_sequences: null
  tool_choice: null
  tools: null
  system: null
  thinking_config: null
  response_format: null
  stream: false
  metadata: null
  user: null
  timeout: 30
  max_retries: 3

# 缓存相关参数
cache_parameters:
  cache_control:
    type: "ephemeral"  # CacheControlEphemeral
    max_tokens: null   # 可选：缓存的最大token数
  cache_creation:
    enabled: false     # 是否创建持久缓存
    ttl: null         # 缓存生存时间

# 降级配置
fallback_config:
  enabled: true
  max_attempts: 3

# 元数据
metadata:
  provider: anthropic
  version: "1.0"
  description: "Anthropic Provider通用配置"
  supported_features:
    - function_calling
    - streaming
    - thinking_mode
    - api_caching
    - vision
  unsupported_features:
    - json_mode  # 通过response_format实现