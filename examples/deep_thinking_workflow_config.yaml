# 深度思考工作流配置示例
name: "DeepThinkingWorkflow"
description: "深度思考工作流配置，支持复杂推理过程"
version: "2.0.0"
initial_state: "problem_analysis"

# 工作流配置
workflow_config:
  name: "DeepThinkingWorkflow"
  description: "深度思考工作流"
  version: "2.0.0"
  nodes:
    problem_analysis:
      type: "analysis"
      description: "问题分析节点"
    hypothesis_generation:
      type: "generation"
      description: "假设生成节点"
    evidence_evaluation:
      type: "evaluation"
      description: "证据评估节点"
    conclusion_synthesis:
      type: "synthesis"
      description: "结论综合节点"
    final_review:
      type: "review"
      description: "最终审查节点"
  edges:
    - from: "problem_analysis"
      to: "hypothesis_generation"
      description: "分析完成后生成假设"
    - from: "hypothesis_generation"
      to: "evidence_evaluation"
      description: "生成假设后评估证据"
    - from: "evidence_evaluation"
      to: "conclusion_synthesis"
      description: "评估证据后综合结论"
    - from: "conclusion_synthesis"
      to: "final_review"
      description: "综合结论后最终审查"
  entry_point: "problem_analysis"

# 状态机配置
states:
  problem_analysis:
    type: "process"
    description: "问题分析状态"
    transitions:
      - target: "hypothesis_generation"
        condition: "analysis_complete"
        description: "分析完成后转移到假设生成"
      - target: "problem_analysis"
        condition: "analysis_incomplete"
        description: "分析不完整时重新分析"
  
  hypothesis_generation:
    type: "process"
    description: "假设生成状态"
    transitions:
      - target: "evidence_evaluation"
        condition: "hypothesis_generated"
        description: "生成假设后转移到证据评估"
      - target: "problem_analysis"
        condition: "insufficient_information"
        description: "信息不足时返回问题分析"
  
  evidence_evaluation:
    type: "process"
    description: "证据评估状态"
    transitions:
      - target: "conclusion_synthesis"
        condition: "evidence_evaluated"
        description: "评估证据后转移到结论综合"
      - target: "hypothesis_generation"
        condition: "evidence_contradicts"
        description: "证据矛盾时重新生成假设"
  
  conclusion_synthesis:
    type: "process"
    description: "结论综合状态"
    transitions:
      - target: "final_review"
        condition: "conclusion_reached"
        description: "得出结论后转移到最终审查"
      - target: "evidence_evaluation"
        condition: "conclusion_uncertain"
        description: "结论不确定时重新评估证据"
  
  final_review:
    type: "end"
    description: "最终审查状态"
    transitions: []

# 处理器配置
handler_config:
  problem_analysis:
    timeout: 15000
    retry_count: 3
    max_iterations: 5
  hypothesis_generation:
    timeout: 12000
    retry_count: 4
    max_hypotheses: 10
  evidence_evaluation:
    timeout: 20000
    retry_count: 5
    confidence_threshold: 0.8
  conclusion_synthesis:
    timeout: 10000
    retry_count: 3
    synthesis_depth: "deep"
  final_review:
    timeout: 8000
    retry_count: 2
    review_strictness: "high"

# 深度思考特定配置
deep_thinking:
  max_thought_depth: 5
  enable_backtracking: true
  enable_hypothesis_refinement: true
  reasoning_strategy: "evidence_based"